# VoiceRecognize 安装指南

## 🚀 快速安装

### 方法1：使用Mac应用（推荐）

1. **下载应用**
   - 找到 `archive/VoiceRecognize_轻量版.dmg` 文件
   - 双击挂载DMG文件

2. **安装应用**
   - 将应用拖拽到Applications文件夹
   - 从Applications启动应用

3. **首次运行**
   - 双击应用图标
   - 等待自动环境配置（首次需要几分钟）
   - 浏览器会自动打开 http://localhost:5002

### 方法2：手动安装

1. **安装Python和Conda**
   ```bash
   # 安装Miniconda
   # 下载地址：https://docs.conda.io/en/latest/miniconda.html
   ```

2. **克隆项目**
   ```bash
   git clone https://github.com/oscarka/voicerecognize.git
   cd voicerecognize
   ```

3. **创建环境**
   ```bash
   conda create -n voicerecognize python=3.11
   conda activate voicerecognize
   ```

4. **安装依赖**
   ```bash
   pip install -r requirements.txt
   conda install -c conda-forge ffmpeg
   ```

5. **启动应用**
   ```bash
   python app_batch.py
   ```

## 🔧 故障排除

### 问题1：找不到requirements.txt
**错误信息**: `ERROR: Could not open requirements file: [Errno 2] No such file or directory: 'requirements.txt'`

**解决方案**:
1. 确保在正确的目录中运行
2. 检查requirements.txt文件是否存在
3. 手动安装Flask：
   ```bash
   pip install flask
   ```

### 问题2：Flask模块未找到
**错误信息**: `ModuleNotFoundError: No module named 'flask'`

**解决方案**:
```bash
# 激活环境
conda activate voicerecognize

# 安装Flask
pip install flask

# 启动应用
python app_batch.py
```

### 问题3：Conda环境问题
**解决方案**:
```bash
# 重新创建环境
conda deactivate
conda env remove -n voicerecognize
conda create -n voicerecognize python=3.11
conda activate voicerecognize
pip install -r requirements.txt
```

### 问题4：端口被占用
**解决方案**:
```bash
# 查找占用端口的进程
lsof -i :5002

# 杀死进程
kill -9 <进程ID>

# 或修改端口
python app_batch.py --port 5003
```

## 📋 系统要求

- **操作系统**: macOS 10.15+
- **Python**: 3.11
- **Conda**: Miniconda 或 Anaconda
- **内存**: 8GB 或更多
- **存储**: 至少 5GB 可用空间
- **网络**: 稳定的互联网连接（首次使用）

## 📱 使用方法

1. **启动应用**
   - 双击应用图标或运行 `python app_batch.py`

2. **访问界面**
   - 浏览器自动打开 http://localhost:5002

3. **上传文件**
   - 拖拽音频文件到上传区域

4. **选择模型**
   - 选择Whisper模型（tiny/base/small/medium/large）

5. **开始处理**
   - 点击"开始批量处理"

6. **查看结果**
   - 实时查看进度和结果

## 📊 模型下载

首次使用会自动下载模型文件：
- **Whisper模型**: 约2GB
- **Pyannote模型**: 约30MB
- **总大小**: 约2-3GB

## 🆘 获取帮助

如果遇到问题：
1. 查看终端输出的错误信息
2. 检查网络连接
3. 确保有足够的磁盘空间
4. 重启应用重试

---

**注意**: 首次使用需要下载模型文件，请确保网络连接稳定。 